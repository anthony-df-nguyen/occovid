@wide            :~'only screen and (min-width:1366px)';
@wider1366       :~'only screen and (min-width:1366px)';
@wider1680       :~'only screen and (min-width:1680px)';
@wider1920       :~'only screen and (min-width:1920px)';
@taller768       :~'only screen and (min-height:768px) and (orientation:landscape)';
@taller1080      :~'only screen and (min-height:1080px) and (orientation:landscape)';
@biggerthanmobile: ~'only screen and (min-width:520px)';
@mobile          :~'only screen and (max-width:500px)';
@landscape       :~'only screen and (orientation:landscape)';
@portrait        :~'only screen and (orientation:portrait)';
@font            :~"'Open Sans',sans-serif;";
@radius          : 5px;
@pad             : 1rem;
@padtop          : 2rem 1rem;
@buttonpad       : 6px 8px;
@topm            : 2rem;
@headerheight    : 4rem;
@gap             : 10px;

@media @wide {
  @gap: 1rem;
}

@shadow     : 2px 2px 4px rgba(0, 0, 0, .1);
@insetshadow: inset 2px 2px 4px rgba(0, 0, 0, .1);

* {
  padding           : 0;
  margin            : 0;
  -webkit-box-sizing: border-box;
  box-sizing        : border-box;
  font-family       : 'Lato', sans-serif;
  font-weight       : 400;

  a {
    text-decoration: none;
  }

  button {
    outline: none;
  }
}

body {
  --primary-text : #333;
  --staywhite    : #f3f3f3;
  --blue         : #009ddb;
  --white        : white;
  --gray         : #f3f3f3;
  --darkblue     : #003f5c;
  --grayblue     : #2f4b7c;
  --purple       : #665191;
  --lightpurple  : #a05195;
  --pink         : #d45087;
  --green        : #66c266;
  --red          : #f95d6a;
  --yellow       : #ffcc00;
  --darkgray     : #333;
  --orange       : #ff7c43;
  --gold         : #ffa600;
  --dark         : #121212;
  --lightdark    : #272727;
  --darktext     : #999999;
  --navmenu      : #e2e2e2;
  --header       : var(--darkblue);
  --subsection   : var(--darktext);
  --tablehead    : var(--blue);
  --borderOnHover: 2px solid var(--blue);
}

body.dark {
  --primary-text: rgba(255, 255, 255, 0.87);
  --blue        : #009ddb;
  --white       : #242424;
  --gray        : #121212;
  --darkblue    : #003f5c;
  --grayblue    : #2f4b7c;
  --purple      : #665191;
  --lightpurple : #a05195;
  --pink        : #d45087;
  --red         : #f95d6a;
  --yellow      : #ffcc00;
  --darkgray    : #333;
  --orange      : #ff7c43;
  --gold        : #ffa600;
  --dark        : #121212;
  --lightdark   : #272727;
  --darktext    : #999999;
  --header      : var(--white);
  --navmenu     : var(--dark);
  --tablehead   : var(--darkblue);
}

.centerjustify {
  position         : absolute;
  left             : 50%;
  -webkit-transform: translateX(-50%; );
  -ms-transform    : translateX(-50%; );
  transform        : translateX(-50%; );
  width            : -webkit-fit-content;
  width            : -moz-fit-content;
  width            : fit-content;
}

.center {
  position         : absolute;
  left             : 50%;
  top              : 50%;
  -webkit-transform: translate(-50%, -50%);
  -ms-transform    : translate(-50%, -50%);
  transform        : translate(-50%, -50%);
}

//Navigation
@navBarWidth: 250px;

.open {
  width: 100% !important;
}

.hidden {
  display: none !important;
}

#navMenu {
  background-color  : var(--navmenu);
  position          : fixed;
  z-index           : 4;
  top               : @headerheight;
  width             : @navBarWidth;
  height            : calc(100vh - @headerheight);
  width             : 0;
  overflow          : scroll;
  -webkit-transition: width ease-out 0.1s;
  -o-transition     : width ease-out 0.1s;
  transition        : width ease-out 0.1s;
  padding-bottom    : 4rem;

  &::-webkit-scrollbar {
    display: none;
  }

  -ms-overflow-style: none;
  /* IE and Edge */
  scrollbar-width   : none;
  /* Firefox */

  //padding:1rem;
  .linkContainer {
    padding-top: 1rem;
  }

  @media @wide {
    width   : @navBarWidth;
    position: fixed;
    top     : 0;
    height  : 100vh;
    padding : 1rem;

    .linkContainer {
      padding-top: @headerheight;
    }
  }

  .logo {
    font-size    : 2.5rem;
    font-weight  : 700;
    color        : white;
    margin-bottom: 2rem;
  }

  .selectedLink {
    //font-weight: 600;
    color             : var(--white);
    background-color  : var(--blue);
    padding           : @buttonpad;
    border-radius     : @radius;
    -webkit-box-shadow: @insetshadow;
    box-shadow        : @insetshadow;
  }

  .subSection {
    text-align   : center;
    margin       : @pad;
    margin-top   : 2rem;
    margin-bottom: 1rem;
    font-weight  : 700;
    color        : var(--subsection);
  }

  a {
    text-align           : center;
    margin               : 0 @pad;
    font-size            : 1.25rem;
    color                : var(--primary-text);
    padding              : @buttonpad;
    display              : block;
    margin-bottom        : @gap;
    // &:hover {
    //   padding:@buttonpad;
    //   border-radius: @radius;
    //   border:2px solid var(--white);
    //   box-shadow: 1px 2px 8px 1px  rgba(0,0,0,.1);
    //   background-color: @gold;
    //   color:white;
    // }
  }

  .donate {
    margin-top      : 2rem;
    background-color: var(--blue);
    color           : var(--white);
    border-radius   : @radius;
  }
}

#themeSelector {
  margin  : 0 auto 1rem auto;
  position: relative;
  height  : 2rem;
  padding : @buttonpad;

  .themeText {
    color    : var(--primary-text);
    font-size: 1rem;
    position : absolute;
    left     : calc(50% - 4rem);
  }

  button {
    display : block;
    margin  : 0;
    position: absolute;
    top     : 4px;
    left    : 50%;
  }
}



//Header
.header {
  background-color: var(--header);
  width           : 100%;
  padding         : @pad;
  position        : relative;
  height          : @headerheight;
  z-index         : 5;

  .siteName {
    display    : block;
    text-align : center;
    color      : white;
    font-weight: 500;
    font-size  : 2rem;
    .center;

    @media @wide {
      text-align       : left;
      position         : relative;
      -webkit-transform: translate(0, 0);
      -ms-transform    : translate(0, 0);
      transform        : translate(0, 0);
      left             : 1rem;
      top              : -3px;
    }
  }

  @media @wide {
    position: fixed;
  }
}

//Page
.page {
  display         : block;
  //=position: absolute;
  padding         : @pad;
  background-color: var(--gray);
  width           : 100%;
  min-height      : 100vh;

  .pageTitle {
    color        : var(--primary-text);
    font-weight  : 300;
    font-size    : 1.5rem;
    margin-top   : 1rem;
    margin-bottom: 1rem;
    text-align   : center;

    @media @wide {
      display: none;
    }
  }

  @media @wide {
    position: absolute;
    padding : 1rem;
    top     : @headerheight;
    left    : @navBarWidth;
    width   : calc(100% - @navBarWidth);
  }
}

//Chart grid
#chartGrid {
  display              : grid;
  grid-gap             : @gap;
  grid-template-columns: 1fr;
  grid-template-rows   : auto;

  @media @biggerthanmobile {
    grid-template-columns: repeat(2, 1fr);
  }

  @media @wide {
    grid-template-columns: repeat(3, 1fr);
  }

}

#cityGrid {
  margin-top           : @gap;
  display              : grid;
  grid-gap             : @gap;
  grid-template-columns: 1fr;
  grid-template-rows   : auto;

  .chartContainer {
    canvas {
      height    : 100% !important;
      max-height: 100vh;
    }


  }

  @media only screen and (min-width:768px) {
    grid-template-columns: minmax(auto, 320px) 1fr;
  }

  @media only screen and (min-width:1366px) {
    grid-template-columns: 400px 1fr;
  }
}

.chartContainer {
  background-color: var(--white);
  padding         : 1rem;
  border-radius   : @radius;

  canvas {
    max-width : 100%;
    height    : 300px;
    max-height: 300px;

    @media @wide {
      height    : 350px;
      max-height: 350px;
    }
  }
}

.chartTitle {
  font-size    : 1rem;
  font-weight  : 400;
  margin-bottom: 1rem;
  text-align   : center;
  color        : var(--primary-text);
}

.chartButtonContainer {
  margin-top   : @gap;
  margin-bottom: @gap;
  display      : block;
  text-align   : center;

  .chartTypeButton {
    font-size       : 12px;
    letter-spacing  : 0;
    display         : inline-block;
    background-color: var(--gray);
    color           : var(--primary-text);
    padding         : 5px 10px;
    border-radius   : @radius;
    text-transform  : capitalize;

    &:hover {
      cursor: pointer;
    }
  }

  .chartTypeButton+.chartTypeButton {
    margin-left: .5rem;
  }
}

//Time Filters
.timeFilterTitle {
  //margin-top:@topm;
  text-align: center;
  color     : var(--blue);

  @media @biggerthanmobile {
    text-align: left;
  }

  @media @wide {
    text-align: center;
  }
}

.timeParent {
  margin : @gap auto;
  display: block;

  .timeButtonContainer {
    margin               : -@gap 0 0 -@gap;
    display              : flex;
    -webkit-box-orient   : horizontal;
    -webkit-box-direction: normal;
    -ms-flex-direction   : row;
    flex-direction       : row;
    -ms-flex-wrap        : wrap;
    flex-wrap            : wrap;

    a {
      margin           : @gap 0 0 @gap;
      -webkit-box-flex : 1;
      -ms-flex-positive: 1;
      flex-grow        : 1;
      font-size        : 12px;
      font-weight      : 300;
      text-align       : center;
      background-color : var(--white);
      padding          : @buttonpad;
      border-radius    : 10px;
      color            : var(--primary-text);

      &:hover {
        cursor          : pointer;
        background-color: var(--blue);
      }

      @media @wide {
        font-size: 1rem;
      }
    }

    @media @wide {
      justify-content: center;

      a {
        flex-grow: 0;
      }
    }
  }
}

// #cityZipSortUI {
//   .timeButtonContainer {
//     text-align     : center;
//     justify-content: space-between;

//   }
// }

.active {
  color             : var(--staywhite) !important;
  background-color  : var(--blue) !important;
  -webkit-box-shadow: @insetshadow;
  box-shadow        : @insetshadow;
}

//Widget
.widget {
  text-align      : center;
  background-color: var(--white);
  border-radius   : @radius;

  .statName {
    color      : var(--primary-text);
    font-weight: 300;
    font-size  : 12px;
  }

  .stat {
    margin-top : @gap;
    font-weight: 700;
    font-size  : 1rem;
  }

  @media @wide {
    .statName {
      font-size: 1rem;
    }
  }
}

.widgetGrid {
  margin               : -@gap 0 @topm -@gap;
  display              : -webkit-box;
  display              : -ms-flexbox;
  display              : flex;
  -webkit-box-orient   : horizontal;
  -webkit-box-direction: normal;
  -ms-flex-direction   : row;
  flex-direction       : row;
  -ms-flex-wrap        : wrap;
  flex-wrap            : wrap;
  -ms-flex-pack        : distribute;
  justify-content      : space-around;

  //gap: 1rem;
  .widget {
    margin           : @gap 0 0 @gap;
    -webkit-box-flex : 1;
    -ms-flex-positive: 1;
    flex-grow        : 1;
    padding          : 1rem;
  }

  .gaugeContainer {
    border-radius   : @radius;
    margin          : @gap 0 0 @gap;
    background-color: var(--white);
    flex-grow       : 1;
    width           : auto;
    padding         : 1rem;

    svg.speedometer {
      display   : block;
      margin    : 0 auto;
      max-height: 200px;
      overflow-y: hidden;
      padding   : 0;
    }
  }
}

//Home WIdget
.homeWidgetGrid {
  display       : flex;
  flex-direction: row;
  flex-wrap     : wrap;
  margin        : -@gap 0 0 -@gap;

  >a {
    border-radius   : @radius;
    padding         : 2rem 1rem;
    background-color: var(--white);
    position        : relative;
    margin          : @gap 0 0 @gap;
    flex-grow       : 1;

    @media @biggerthanmobile {
      padding: 2rem;
    }

    @media @wider1920 {
      padding: 3rem 2rem;
    }

    &:hover {
      cursor    : pointer;
      box-shadow: @shadow;
      border    : var(--borderOnHover);
    }

    .innerDiv {
      position: relative;

      .widgetTitle {
        font-size     : 1.25rem;
        font-weight   : 500;
        letter-spacing: 1px;
        text-transform: uppercase;
        display       : block;
        text-align    : center;
        margin-bottom : 1rem;
        color         : var(--primary-text)
      }

      .subFlex {
        position      : relative;
        display       : flex;
        flex-wrap     : wrap;
        flex-direction: row;
        margin        : -@gap 0 0 -@gap;

        .widget {
          margin           : @gap 0 0 @gap;
          -webkit-box-flex : 1;
          -ms-flex-positive: 1;
          flex-grow        : 1;
          padding          : 1rem;
          flex-direction   : row;
          background-color : var(--gray);
        }
      }


    }
  }


}

#homeGauges {
  margin-top      : @gap;
  background-color: var(--white);

  //max-width : 500px;
  #testsper100 {
    padding: 2rem 0;
  }

  .statName {
    .chartTitle;
  }

  .stat {
    font-size: 2rem;
  }

  &:hover {
    cursor    : pointer;
    box-shadow: @shadow;
    border    : var(--borderOnHover);
  }
}

table {
  th {
    background-color: var(--tablehead);
    padding         : @buttonpad;
    color           : var(--staywhite);
    text-align      : left;
  }

  td {
    background-color: var(--white);
    padding         : @buttonpad;
    text-align      : left;
    color           : var(--primary-text);
    font-weight     : 400;
    font-size       : .8rem;
  }
}